// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

/**
 * enum ClaimType {
 * ACTION     @map("1")
 * CONTROLLER @map("2")
 * SERVICE    @map("3")
 * }
 */

model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  email     String?  @unique
  password  String
  roles     Role[]
  claims    Claim[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Role {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  description String?
  claims      Claim[]
  users       User[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Claim {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  description String?
  type        Int
  roles       Role[]
  users       User[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
